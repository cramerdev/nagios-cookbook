# Generated by Chef
# host definitions

<% @nodes.each do |n| -%>
define host {
  use server
  address <%= (n[:cloud] || {})[:local_ipv4] || n[:ipaddress] %>
  host_name <%= n[:fqdn] %>
<% if n.run_list.roles.nil? || n.run_list.roles.length == 0 -%>
  hostgroups all
<% else -%>
  hostgroups <%= n.run_list.roles.to_a.join(",") %>
<% end -%>
}

<% end -%>
